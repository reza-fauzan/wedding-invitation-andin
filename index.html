<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Wedding of Gilang & Andin</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Montserrat:wght@400;500;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <!-- SUPABASE -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

    <!-- FONT -->
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Montserrat:wght@400;500;700&display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,600;1,600&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Caveat&display=swap" rel="stylesheet">
    <link
        href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Montserrat:wght@400;500;600;700&display=swap"
        rel="stylesheet">

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="assets/img/favicon.png">

    <style>
        /* --- 1. PALET WARNA UTAMA & PENGATURAN DASAR --- */
        :root {
            --primary-brown: #8D6E63;
            --dark-brown: #5D4037;
            --accent-gold: #C5A66A;
            --light-bg: #FDF5E6;
            --white-text: #FFFFFF;
            --dark-text: #3D2B1F;
            --soft-dark-text: #6d4c41;

            /* Font */
            --font-heading: 'Great Vibes', cursive;
            --font-body: 'Montserrat', sans-serif;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-body);
            background-color: var(--light-bg);
            color: var(--dark-text);
            overflow-x: hidden;
            overflow-y: hidden;
        }

        p {
            line-height: 1.8;
            margin-bottom: 15px;
        }

        .container {
            max-width: 500px;
            margin: 0 auto;
            background-color: white;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
        }

        /* --- 2. KOMPONEN UMUM & KELAS BANTU --- */
        .section {
            padding: 50px 25px;
            text-align: center;
            border-bottom: 1px solid #eee;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }

        .section-title {
            font-family: var(--font-heading);
            font-size: 2.8rem;
            color: var(--accent-gold);
            margin-bottom: 20px;
            font-weight: 400;
        }

        .hidden {
            display: none;
        }

        .visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Cover Page (Halaman Pembuka) */
        .cover-page {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url(assets/img/gallery-andini/129528.jpg) no-repeat center center/cover;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            color: var(--white-text);
            z-index: 100;
            padding: 20px;
        }

        .cover-page::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
        }

        .cover-content {
            position: relative;
            z-index: 1;
        }

        .cover-content h1 {
            font-family: var(--font-heading);
            font-size: 3rem;
            font-weight: 400;
            margin-bottom: 1rem;
        }

        .cover-content h3 {
            font-size: 1.2rem;
            font-weight: 500;
            margin-bottom: 2rem;
        }

        .open-button {
            /* Latar belakang gradient pink yang cantik */
            background: linear-gradient(90deg, #FAD9E0 0%, #E7A3B0 100%);

            /* Tampilan & Teks */
            color: var(--white-text);
            font-family: var(--font-body);
            font-size: 1rem;
            font-weight: 600;
            /* Membuat teks sedikit lebih tebal */
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.15);
            /* Bayangan teks agar lebih terbaca */

            /* Bentuk & Ukuran */
            border: 2px solid rgba(255, 255, 255, 0.7);
            /* Garis tepi putih semi-transparan */
            border-radius: 50px;
            /* Bentuk pil yang modern */
            padding: 15px 35px;
            /* Padding lebih besar agar tombol terlihat lebih premium */

            /* Layout Ikon & Teks */
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            /* Jarak antara ikon dan teks */

            /* Efek & Interaksi */
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            /* Bayangan lembut di bawah tombol */
            transition: all 0.3s ease;
            /* Transisi halus untuk semua properti */
        }

        .open-button:hover {
            transform: scale(1.05);
            /* Sedikit membesar saat disentuh */
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);
            /* Bayangan menjadi lebih jelas */
        }

        /* Hero Section */
        .hero {
            min-height: 100vh;
            background: url(assets/img/gallery-andini/106095.jpg) no-repeat center center/cover;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: var(--white-text);
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.6);
        }

        .hero h1 {
            font-family: var(--font-heading);
            font-size: 4rem;
            font-weight: 400;
        }

        .hero p {
            font-size: 1.2rem;
            font-weight: 500;
        }

        /* Ayat Suci & Countdown */
        #countdown {
            display: flex;
            justify-content: space-around;
            margin-top: 20px;
        }

        /* Latar belakang lembut untuk section */
        .countdown-section {
            background-color: var(--light-bg);
            position: relative;
            /* Wajib untuk hiasan bunga */
            padding-top: 80px;
            padding-bottom: 80px;
        }

        /* Hiasan Bunga di Pojok Section */
        .decorated-section::before,
        .decorated-section::after {
            content: '';
            position: absolute;
            width: 200px;
            height: 200px;
            background-image: url(assets/img/flowers.png);
            background-size: contain;
            background-repeat: no-repeat;
            z-index: 1;
        }

        /* Bunga di pojok KIRI BAWAH */
        .decorated-section::before {
            bottom: 0;
            /* <- Diubah dari top */
            left: 0;
            transform: scaleX(-1) rotate(180deg);
            /* Dibalik horizontal & diputar agar pas */
        }

        /* Bunga di pojok KANAN BAWAH */
        .decorated-section::after {
            bottom: 0;
            right: 0;
            transform: rotate(180deg);
            /* Tetap sama, sudah pas di kanan bawah */
        }

        /* Gaya baru untuk kutipan ayat */
        .scripture-quote {
            max-width: 400px;
            margin: 0 auto 40px auto;
            font-size: 1rem;
            color: var(--soft-dark-text);
            line-height: 1.8;
        }

        .scripture-quote .arabic-text {
            font-family: 'Times New Roman', Times, serif;
            /* Font yang baik untuk teks Arab */
            font-size: 1.8rem;
            /* Ukuran font lebih besar untuk teks Arab */
            color: var(--dark-brown);
            /* Warna cokelat tua sesuai tema */
            line-height: 2.5;
            margin-bottom: 20px;
        }

        .scripture-quote .translation-text {
            font-size: 0.95rem;
            color: var(--soft-dark-text);
            /* Warna cokelat yang lebih lembut */
            margin-top: 15px;
            font-style: italic;
        }

        /* --- Desain Baru Countdown Timer --- */
        #countdown {
            display: flex;
            flex-wrap: wrap;
            /* Agar responsif di layar sangat kecil */
            justify-content: center;
            gap: 15px;
            /* Jarak antar lingkaran */
            position: relative;
            z-index: 2;
            /* Memastikan di atas hiasan bunga */
        }

        .countdown-item {
            /* Bentuk Lingkaran dengan Gradient */
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(135deg, #FAD9E0 0%, #E7A3B0 100%);

            /* Efek Terangkat */
            border: 2px solid white;
            box-shadow: 0 5px 15px rgba(199, 130, 131, 0.25);

            /* Posisi Teks di Dalam Lingkaran */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .countdown-item div {
            /* Gaya Angka */
            font-size: 2rem;
            font-weight: 700;
            color: var(--white-text);
            line-height: 1;
            margin-bottom: 5px;
        }

        .countdown-item span {
            /* Gaya Label (HARI, JAM, dll) */
            font-size: 0.6rem;
            font-weight: 600;
            color: var(--white-text);
            text-transform: uppercase;
            letter-spacing: 1.5px;
            opacity: 0.9;
        }

        /* The Couple (Monogram) */
        .couple-section-monogram {
            background-image: linear-gradient(rgba(93, 64, 55, 0.7), rgba(93, 64, 55, 0.7)), url('assets/img/bg-GA.jpg');
            background-size: cover;       
            background-position: center;  
            background-repeat: no-repeat;
            background-attachment: fixed; 
            color: var(--white-text);
        }


.couple-section-monogram .monogram-initials,
.couple-section-monogram .monogram-ampersand {
    color: var(--white-text);
}

        .monogram-circle {
            width: 150px;
            height: 150px;
            border: 2px solid var(--white-text);
            border-radius: 50%;
            margin: 0 auto 30px auto;
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: var(--font-heading);
        }

        .monogram-initials {
            font-size: 3rem;
            color: var(--dark-brown);
        }

        .monogram-ampersand {
            font-size: 2rem;
            color: var(--primary-brown);
            margin: 0 5px;
        }

        .couple-details {
            margin-bottom: 25px;
        }

        .couple-fullname {
            font-family: var(--font-body);
            font-weight: 700;
            font-size: 1.2rem;
            color: var(--white-text);
            text-shadow: 1px 1px 3px rgba(0,0,0,0.5);
            margin-bottom: 5px;
        }

        .couple-parents {
            font-size: 0.9rem;
            line-height: 1.7;
            color: rgba(255, 255, 255, 0.85);
            margin-bottom: 0;
        }

        /* GALERI */
        .gallery-section-sticky {
            background-color: #000000;
            /* Latar belakang hitam pekat untuk efek sinematik */
            padding: 60px 0 0 0;
        }

        .sticky-intro {
            text-align: center;
            padding: 0 25px 60px 25px;
            color: #FFFFFF;
        }

        .sticky-intro .gallery-subtitle {
            opacity: 0.8;
        }

        /* Kontainer yang akan di-scroll (tingginya menentukan durasi scroll) */
        .sticky-gallery-container {
            height: 400vh;
            /* 100vh untuk setiap foto, sesuaikan dengan jumlah foto */
            position: relative;
        }

        /* Panel yang akan menempel (sticky) */
        .sticky-panel {
            position: sticky;
            top: 0;
            height: 100vh;
            /* Setiap panel memenuhi layar */
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .sticky-panel img {
            width: auto;
            height: auto;
            max-width: 90%;
            max-height: 85vh;
            /* Pastikan gambar tidak terlalu tinggi */
            border-radius: 15px;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
            border: 5px solid white;
            /* Transisi agar perubahan ukuran mulus */
            transition: transform 0.5s cubic-bezier(0.23, 1, 0.32, 1);
        }

        /* Save The Date */
        .save-the-date-v2 {
            background-color: var(--light-bg);
            padding: 60px 25px;
        }

        .event-cards-container {
            margin-top: 30px;
            display: grid;
            grid-template-columns: 1fr;
            /* Satu kolom di mobile */
            gap: 30px;
        }

        /* Kontainer utama untuk efek 3D */
        .flip-card {
            background-color: transparent;
            width: 100%;
            height: 380px;
            perspective: 1000px;
            cursor: pointer;
        }

        /* Bagian dalam yang akan berputar */
        .flip-card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.8s;
            transform-style: preserve-3d;
        }

        /* Memicu animasi flip saat disentuh/hover */
        .flip-card:hover .flip-card-inner {
            transform: rotateY(180deg);
        }

        /* Gaya untuk bagian DEPAN dan BELAKANG kartu */
        .flip-card-front,
        .flip-card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            border-radius: 20px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        /* Tampilan kartu bagian DEPAN */
        .flip-card-front {
            background: linear-gradient(135deg, var(--dark-brown) 0%, var(--primary-brown) 100%);
            color: var(--white-text);
        }

        .card-front-icon {
            font-size: 3rem;
            margin-bottom: 20px;
            opacity: 0.8;
        }

        .card-front-title {
            font-family: var(--font-heading);
            font-size: 2.5rem;
            font-weight: 400;
        }

        .card-front-prompt {
            margin-top: 15px;
            font-size: 0.8rem;
            font-weight: 500;
            opacity: 0.7;
            letter-spacing: 1px;
            text-transform: uppercase;
        }

        /* Tampilan kartu bagian BELAKANG */
        .flip-card-back {
            background-color: #FFFFFF;
            color: var(--dark-text);
            transform: rotateY(180deg);
        }

        .card-back-title {
            font-family: var(--font-heading);
            font-size: 2rem;
            color: var(--dark-brown);
            margin-bottom: 20px;
        }

        .flip-card-back p {
            font-size: 1rem;
            margin-bottom: 12px;
            display: flex;
            align-items: baseline;
            gap: 10px;
            text-align: left;
        }

        .flip-card-back p.address-text {
            text-align: center;
            line-height: 1.6;
        }

        .flip-card-back .map-button {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            margin-top: 20px;
            padding: 12px 25px;
            background-color: var(--primary-brown);
            color: var(--white-text);
            text-decoration: none;
            border-radius: 25px;
            font-weight: 600;
            transition: background-color 0.3s;
        }

        .flip-card-back .map-button:hover {
            background-color: var(--dark-brown);
        }


        /* Tanda Kasih (Gift Section) */
        .gift-section-cards {
            background-color: var(--light-bg);
        }

        .gift-cards-container {
            margin-top: 30px;
            display: grid;
            gap: 20px;
        }

        .bank-card {
            background: linear-gradient(135deg, #FFFFFF 0%, #FDF6F7 100%);
            border: 1px solid #F5E3E6;
            border-radius: 15px;
            padding: 25px;
            position: relative;
            box-shadow: 0 8px 25px rgba(199, 130, 131, 0.1);
            text-align: left;
            overflow: hidden;
        }

        .bank-card-logo {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 60px;
            opacity: 0.5;
        }

        .bank-card-name {
            font-weight: 600;
            font-size: 1.1rem;
            color: var(--dark-text);
            margin-bottom: 25px;
            /* Jarak ke nomor rekening */
        }

        .bank-card-number {
            font-family: "Courier New", Courier, monospace;
            font-size: 1.6rem;
            font-weight: 600;
            color: var(--dark-brown);
            letter-spacing: 2px;
            margin-bottom: 25px;
            text-align: center;
        }

        /* Mengubah gaya tombol Salin menjadi lebih elegan */
        .gift-section-cards .copy-button {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            width: 100%;
            background-color: transparent;
            border: 2px solid var(--primary-brown);
            color: var(--dark-brown);
            font-weight: 600;
            padding: 10px 15px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .gift-section-cards .copy-button:hover {
            background-color: var(--primary-brown);
            color: var(--white-text);
        }

        /* --- Desain Baru untuk Our Story (Kutipan Elegan) --- */
        .story-section-quote {
            background-color: #FFFFFF;
            /* Latar belakang putih bersih */
            padding: 80px 25px;
        }

        .story-quote-container {
            position: relative;
            /* Wajib untuk posisi bingkai */
            max-width: 420px;
            margin: 30px auto 0 auto;
            padding: 50px 40px;
            /* Jarak antara teks dan bingkai */
        }

        /* Membuat 4 sudut bingkai */
        .corner {
            position: absolute;
            width: 40px;
            height: 40px;
            border-color: var(--primary-brown);
            border-style: solid;
            opacity: 0.7;
        }

        .corner.top-left {
            top: 0;
            left: 0;
            border-width: 2px 0 0 2px;
        }

        .corner.top-right {
            top: 0;
            right: 0;
            border-width: 2px 2px 0 0;
        }

        .corner.bottom-left {
            bottom: 0;
            left: 0;
            border-width: 0 0 2px 2px;
        }

        .corner.bottom-right {
            bottom: 0;
            right: 0;
            border-width: 0 2px 2px 0;
        }

        /* Gaya untuk teks kutipan utama */
        .story-quote-container blockquote {
            font-family: 'Cormorant Garamond', serif;
            /* Menggunakan font serif baru */
            font-size: 1.3rem;
            /* Sedikit lebih besar */
            font-weight: 600;
            font-style: italic;
            line-height: 2;
            /* Jarak lega antar baris */
            color: var(--dark-text);
            text-align: center;
            border: none;
            margin: 0;
            padding: 0;
        }

        /* Gaya untuk "tanda tangan" nama pasangan */
        .story-signature {
            font-family: var(--font-heading);
            font-size: 2.2rem;
            color: var(--dark-brown);
            text-align: center;
            margin-top: 30px;
            margin-bottom: 0;
        }

        /* --- [BARU] CSS UNTUK FORM & DAFTAR UCAPAN --- */
        .guestbook-section {
            background-color: var(--light-bg);
            padding: 60px 25px;
        }

        #guestbook-form {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-top: 30px;
            text-align: left;
        }

        #guestbook-form input,
        #guestbook-form textarea {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #F5E3E6;
            border-radius: 10px;
            font-family: var(--font-body);
            font-size: 1rem;
            color: var(--soft-dark-text);
        }

        #guestbook-form input:focus,
        #guestbook-form textarea:focus {
            outline: none;
            border-color: var(--primary-brown);
            box-shadow: 0 0 0 3px rgba(231, 163, 176, 0.3);
        }

        #guestbook-form button {
            padding: 12px 25px;
            background-color: var(--primary-brown);
            color: var(--white-text);
            border: none;
            border-radius: 25px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        #guestbook-form button:hover {
            background-color: var(--dark-brown);
        }

        #guestbook-form button:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
        }

        #ucapan-list {
            margin-top: 40px;
            text-align: left;
            max-height: 400px;
            /* Batas tinggi agar tidak terlalu panjang */
            overflow-y: auto;
            /* Aktifkan scroll jika kontennya panjang */
            padding-right: 10px;
            /* Jarak untuk scrollbar */
        }

        .ucapan-item {
            background-color: #FFFFFF;
            border-left: 5px solid var(--primary-brown);
            padding: 15px 20px;
            border-radius: 0 8px 8px 0;
            margin-bottom: 15px;
            box-shadow: 0 4px 15px rgba(199, 130, 131, 0.08);
        }

        .ucapan-item p {
            margin: 0;
            line-height: 1.6;
        }

        .ucapan-item .ucapan-nama {
            font-weight: 700;
            color: var(--dark-brown);
            font-size: 1.1rem;
            margin-bottom: 8px;
        }

        .ucapan-item .ucapan-pesan {
            color: var(--soft-dark-text);
            font-size: 1rem;
        }

        .ucapan-item .ucapan-tanggal {
            font-size: 0.8rem;
            color: #aaa;
            margin-top: 10px;
            display: block;
            text-align: right;
        }

        .toast {
            visibility: hidden;
            /* Sembunyi secara default */
            min-width: 280px;
            background-color: #4CAF50;
            /* Warna hijau tanda berhasil */
            color: white;
            text-align: center;
            border-radius: 5px;
            padding: 16px;
            position: fixed;
            /* Tetap di layar saat di-scroll */
            z-index: 1000;
            left: 50%;
            transform: translateX(-50%);
            bottom: 30px;
            opacity: 0;
            transition: opacity 0.5s, visibility 0.5s, bottom 0.5s;
        }

        /* Kelas untuk memunculkan notifikasi */
        .toast.show {
            visibility: visible;
            opacity: 1;
            bottom: 50px;
            /* Muncul dari bawah */
        }


        /* Footer */
        footer {
            padding: 50px 25px;
            text-align: center;
            background-color: var(--dark-brown);
            color: #fcefee;
        }

        footer .section-title {
            color: var(--white-text);
        }

        footer p {
            color: #fcefee;
        }

        /* Tombol Kontrol Musik */
        #music-control {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            background-color: var(--primary-brown);
            color: var(--white-text);
            border-radius: 50%;
            border: none;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            z-index: 99;
            box-shadow: 0 4px 8px rgba(0, 0, 0, .2)
        }
    </style>
</head>

<body>
    <audio id="background-music" loop>
        <source src="assets/music/janjisuci.m4a" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>
    <button id="music-control" class="hidden">
        <i id="music-icon" class="fas fa-play"></i>
    </button>

    <div id="cover-page" class="cover-page">
        <div class="cover-content">
            <p>WEDDING INVITATION</p>
            <h1>Gilang & Andin</h1>
            <h3>Sabtu, 06 September 2025</h3>
            <h4>Turut Mengundang</h4>
            <p class="guest-name" id="guest-name">...</p>
            <br>
            <button id="open-invitation" class="open-button">
                <i class="fa-regular fa-heart"></i> Buka Undangan
            </button>
        </div>
    </div>

    <div id="main-content" class="container hidden">
        <header class="hero section">
            <h1>Gilang & Andin</h1>
            <p>We're Getting Married</p>
            <p>06 . 09 . 2025</p>
        </header>

        <section class="section countdown-section decorated-section">
            <div class="scripture-quote">
                <p class="arabic-text">
                    وَمِنْ ءَايَٰتِهِۦٓ أَنْ خَلَقَ لَكُم مِّنْ أَنفُسِكُمْ أَزْوَٰجًا لِّتَسْكُنُوٓا۟ إِلَيْهَا
                    وَجَعَلَ بَيْنَكُم مَّوَدَّةً وَرَحْمَةً ۚ إِنَّ فِى ذَٰلِكَ لَءَايَٰتٍ لِّقَوْمٍ يَتَفَكَّرُونَ
                </p>
                <p class="translation-text">
                    <em>"Dan di antara tanda-tanda (kebesaran)-Nya ialah Dia menciptakan pasangan-pasangan untukmu dari
                        jenismu sendiri, agar kamu cenderung dan merasa tenteram kepadanya, dan Dia menjadikan di
                        antaramu rasa kasih dan sayang. Sungguh, pada yang demikian itu benar-benar terdapat tanda-tanda
                        (kebesaran Allah) bagi kaum yang berpikir."</em><br>
                    (QS. Ar-Rum: 21)
                </p>
            </div>
            <div id="countdown">
                <div class="countdown-item">
                    <div id="days">00</div>
                    <span>Hari</span>
                </div>
                <div class="countdown-item">
                    <div id="hours">00</div>
                    <span>Jam</span>
                </div>
                <div class="countdown-item">
                    <div id="minutes">00</div>
                    <span>Menit</span>
                </div>
                <div class="countdown-item">
                    <div id="seconds">00</div>
                    <span>Detik</span>
                </div>
            </div>
        </section>

        <section class="section couple-section-monogram">
            <div class="monogram-circle">
                <span class="monogram-initials">G</span>
                <span class="monogram-ampersand">&</span>
                <span class="monogram-initials">A</span>
            </div>
            <div class="couple-details">
                <h3 class="couple-fullname">Gilang Rizky Ramadhan</h3>
                <p class="couple-parents">Putra Pertama dari Bapak Mursalim & Ibu Yayah Khomsiyah</p>
            </div>
            <div class="couple-details">
                <h3 class="couple-fullname">Andini Ruslana</h3>
                <p class="couple-parents">Putri Keempat Belas dari Bapak (Alm) Iyus Ruslana & Ibu (Alm) Een Runaeni</p>
            </div>
        </section>

        <section class="section story-section-quote">

            <div class="story-quote-container">
                <span class="corner top-left"></span>
                <span class="corner top-right"></span>

                <blockquote>
                    Cinta sejati bukanlah tentang seberapa lama kita bersama, melainkan tentang seberapa dalam kita
                    membangun fondasi untuk selamanya. Kisah kami bukanlah dongeng, melainkan perjalanan nyata dua hati
                    yang memilih untuk berlabuh dan pulang ke satu sama lain.
                </blockquote>

                <p class="story-signature">Gilang & Andini</p>

                <span class="corner bottom-left"></span>
                <span class="corner bottom-right"></span>
            </div>
        </section>

        <section class="section gallery-section-sticky">
            <div class="sticky-intro">
                <h2 class="section-title">Our Captured Moments</h2>
                <p class="gallery-subtitle">A few chapters from our story, leading to forever.</p>
            </div>

            <div class="sticky-gallery-container">
                <div class="sticky-panel">
                    <img src="assets/img/gallery-andini/106097.jpg" alt="Momen Indah 1">
                </div>
                <div class="sticky-panel">
                    <img src="assets/img/gallery-andini/106099.jpg" alt="Momen Indah 2">
                </div>
                <div class="sticky-panel">
                    <img src="assets/img/gallery-andini/106101.jpg" alt="Momen Indah 3">
                </div>
                <div class="sticky-panel">
                    <img src="assets/img/gallery-andini/129528.jpg" alt="Momen Indah 4">
                </div>
            </div>
        </section>

        <section class="section save-the-date-v2">
            <h2 class="section-title">Save The Date</h2>
            <div class="event-cards-container">

                <div class="flip-card">
                    <div class="flip-card-inner">
                        <div class="flip-card-front">
                            <div class="card-front-icon"><i class="fas fa-mosque"></i></div>
                            <h3 class="card-front-title">Akad Nikah</h3>
                            <p class="card-front-prompt">Sentuh untuk Detail</p>
                        </div>
                        <div class="flip-card-back">
                            <h3 class="card-back-title">Akad Nikah</h3>
                            <p><i class="fas fa-calendar-alt"></i> Sabtu, 06 September 2025</p>
                            <p><i class="fas fa-clock"></i> 08:00 - Selesai</p>
                            <p class="address-text"><i class="fas fa-map-marker-alt"></i> Jl. Sunan Gunungjati Blok Jati
                                Lor Rt. 002 / Rw. 001 Desa Kalisapu Kec. Gunungjati Kab. Cirebon</p>
                            <a href="https://maps.app.goo.gl/GkNTJkobdW8NEAXg8" target="_blank" class="map-button">
                                <i class="fas fa-map-location-dot"></i> Lihat Peta
                            </a>
                        </div>
                    </div>
                </div>

                <div class="flip-card">
                    <div class="flip-card-inner">
                        <div class="flip-card-front">
                            <div class="card-front-icon"><i class="fas fa-champagne-glasses"></i></div>
                            <h3 class="card-front-title">Resepsi</h3>
                            <p class="card-front-prompt">Sentuh untuk Detail</p>
                        </div>
                        <div class="flip-card-back">
                            <h3
                                clhttps://images.pexels.com/photos/3290068/pexels-photo-3290068.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1ass="card-back-title">
                                Resepsi</h3>
                            <p><i class="fas fa-calendar-alt"></i> Sabtu, 06 September 2025</p>
                            <p><i class="fas fa-clock"></i> 10:00 - Selesai</p>
                            <p class="address-text"><i class="fas fa-map-marker-alt"></i> Jl. Sunan Gunungjati Blok Jati
                                Lor Rt. 002 / Rw. 001 Desa Kalisapu Kec. Gunungjati Kab. Cirebon</p>
                            <a href="https://maps.app.goo.gl/GkNTJkobdW8NEAXg8" target="_blank" class="map-button">
                                <i class="fas fa-map-location-dot"></i> Lihat Peta
                            </a>
                        </div>
                    </div>
                </div>

            </div>
        </section>

        <section class="section gift-section-cards">
            <h2 class="section-title">Tanda Kasih</h2>
            <p class="gift-intro-text">
                Doa restu Anda merupakan karunia terindah bagi kami. Namun jika memberi adalah tanda kasih, Anda dapat
                mengirimkannya melalui tautan berikut.
            </p>

            <div class="gift-cards-container">

                <div class="bank-card">
                    <img src="assets/img/logo-bjb.png" alt="Logo BJB" class="bank-card-logo">
                    <p class="bank-card-name">Gilang Rizky Ramadhan</p>
                    <div class="bank-card-number">0143660079101</div>
                    <button class="copy-button" data-clipboard-text="0143660079101">
                        <i class="fa-regular fa-copy"></i> Salin Nomor
                    </button>
                </div>

                <div class="bank-card">
                    <img src="assets/img/logo-cimb.png" alt="Logo CIMB" class="bank-card-logo">
                    <p class="bank-card-name">Andini Ruslana</p>
                    <div class="bank-card-number">706360679200 </div>
                    <button class="copy-button" data-clipboard-text="706360679200">
                        <i class="fa-regular fa-copy"></i> Salin Nomor
                    </button>
                </div>

            </div>
        </section>

        <section class="section guestbook-section">
            <h2 class="section-title">Buku Tamu & Ucapan</h2>
            <p>Kirimkan doa dan ucapan terbaik Anda untuk kami di hari yang berbahagia ini.</p>

            <form id="guestbook-form">
                <input type="text" id="name" placeholder="Nama Anda" required>
                <textarea id="message" rows="4" placeholder="Tulis ucapan Anda di sini..." required></textarea>
                <button type="submit" id="submit-button">
                    <i class="fa-regular fa-paper-plane"></i> Kirim Ucapan
                </button>
            </form>

            <div id="ucapan-list">
            </div>
        </section>

        <footer>
            <p>Merupakan suatu kehormatan dan kebahagiaan bagi kami apabila Anda berkenan hadir untuk memberikan doa
                restu.</p>
            <h2 class="section-title">Gilang & Andin</h2>
            <p>&copy; 2025. All Rights Reserved.</p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // --- Inisialisasi Elemen ---
            const coverPage = document.getElementById('cover-page');
            const mainContent = document.getElementById('main-content');
            const openButton = document.getElementById('open-invitation');
            const backgroundMusic = document.getElementById('background-music');
            const musicControl = document.getElementById('music-control');
            const musicIcon = document.getElementById('music-icon');
            const sections = document.querySelectorAll('.section');

            const guestNameElement = document.getElementById('guest-name');
            const urlParams = new URLSearchParams(window.location.search);
            const namaTamu = urlParams.get('to');

            if (namaTamu) {
                guestNameElement.textContent = namaTamu.replace(/\+/g, ' ');
            } else {
                guestNameElement.textContent = 'Bapak/Ibu/Saudara/i';
            }

            // --- Fungsi-fungsi Utama ---
            function openInvitation() {
                backgroundMusic.play().catch(error => console.error("Autoplay diblokir oleh browser:", error));
                coverPage.style.transition = 'opacity 1s ease-out';
                coverPage.style.opacity = '0';

                setTimeout(() => {
                    coverPage.style.display = 'none';
                    mainContent.classList.remove('hidden');
                    musicControl.classList.remove('hidden');
                    document.body.style.overflowY = 'auto';
                }, 1000);
            }

            function toggleMusic() {
                if (backgroundMusic.paused) {
                    backgroundMusic.play();
                } else {
                    backgroundMusic.pause();
                }
            }

            function updateMusicIcon() {
                if (backgroundMusic.paused) {
                    musicIcon.classList.remove('fa-pause');
                    musicIcon.classList.add('fa-play');
                } else {
                    musicIcon.classList.remove('fa-play');
                    musicIcon.classList.add('fa-pause');
                }
            }

            function initCountdown() {
                const countdownDate = new Date("Sep 06, 2025 08:00:00").getTime();
                const countdownElements = {
                    days: document.getElementById("days"),
                    hours: document.getElementById("hours"),
                    minutes: document.getElementById("minutes"),
                    seconds: document.getElementById("seconds")
                };

                const countdownFunction = setInterval(function () {
                    const now = new Date().getTime();
                    const distance = countdownDate - now;

                    if (distance < 0) {
                        clearInterval(countdownFunction);
                        document.getElementById("countdown").innerHTML = "The Wedding Day is Here!";
                        return;
                    }

                    const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                    const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                    const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                    const seconds = Math.floor((distance % (1000 * 60)) / 1000);

                    countdownElements.days.innerText = String(days).padStart(2, '0');
                    countdownElements.hours.innerText = String(hours).padStart(2, '0');
                    countdownElements.minutes.innerText = String(minutes).padStart(2, '0');
                    countdownElements.seconds.innerText = String(seconds).padStart(2, '0');
                }, 1000);
            }

            function initStickyGallery() {
                const panels = document.querySelectorAll('.sticky-panel');
                if (panels.length === 0) return;

                window.addEventListener('scroll', () => {
                    panels.forEach((panel, i) => {
                        // Hanya proses panel sebelum panel terakhir
                        if (i < panels.length - 1) {
                            const nextPanel = panels[i + 1];
                            const rect = panel.getBoundingClientRect();
                            const nextRect = nextPanel.getBoundingClientRect();

                            // Jika panel berikutnya mulai masuk ke layar dari bawah
                            if (nextRect.top <= window.innerHeight && nextRect.top >= 0) {
                                // Hitung seberapa jauh panel berikutnya sudah masuk
                                const progress = (window.innerHeight - nextRect.top) / window.innerHeight;
                                // Mengecilkan panel saat ini berdasarkan progres panel berikutnya
                                const scale = 1 - (progress * 0.15); // Mengecil hingga 85%
                                panel.querySelector('img').style.transform = `scale(${Math.max(0.85, scale)})`;
                            } else if (nextRect.top < 0) {
                                // Jika panel berikutnya sudah sepenuhnya menutupi
                                panel.querySelector('img').style.transform = 'scale(0.85)';
                            } else {
                                // Jika panel berikutnya belum masuk
                                panel.querySelector('img').style.transform = 'scale(1)';
                            }
                        }
                    });
                });
            }
            initStickyGallery(); // Panggil fungsinya

            function initScrollAnimations() {
                const observer = new IntersectionObserver(entries => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add('visible');
                        }
                    });
                }, { threshold: 0.1 });
                sections.forEach(section => { observer.observe(section); });
            }

            function initCopyButtons() {
                document.querySelectorAll('.copy-button').forEach(button => {
                    const originalText = button.innerText;
                    button.addEventListener('click', () => {
                        const textToCopy = button.getAttribute('data-clipboard-text');
                        navigator.clipboard.writeText(textToCopy).then(() => {
                            button.innerText = 'Berhasil!';
                            setTimeout(() => {
                                button.innerText = originalText;
                            }, 2000);
                        }).catch(err => {
                            console.error('Gagal menyalin teks: ', err);
                        });
                    });
                });
            }

            // --- [BARU] FUNGSI UNTUK SUPABASE ---
            function initGuestbook() {
                const SUPABASE_URL = 'https://opervlfswrybshzxqjvj.supabase.co'; // <-- GANTI DENGAN URL ANDA
                const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9wZXJ2bGZzd3J5YnNoenhxanZqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY0ODE2NTYsImV4cCI6MjA3MjA1NzY1Nn0.u4Gwaroggk9jh09Ope2XVE6e3wLZKitgoM25elS8BNU';

                const supabaseClient = supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

                const form = document.getElementById('guestbook-form');
                const submitButton = document.getElementById('submit-button');
                const ucapanList = document.getElementById('ucapan-list');
                const submitIcon = submitButton.querySelector('i');
                const originalButtonHTML = submitButton.innerHTML;

                const tampilkanUcapan = (ucapan, prepend = false) => {
                    const item = document.createElement('div');
                    item.className = 'ucapan-item';

                    const tanggal = new Date(ucapan.created_at).toLocaleString('id-ID', {
                        day: 'numeric', month: 'long', year: 'numeric', hour: '2-digit', minute: '2-digit'
                    });

                    item.innerHTML = `
                        <p class="ucapan-nama">${ucapan.name}</p>
                        <p class="ucapan-pesan">${ucapan.message}</p>
                        <span class="ucapan-tanggal">${tanggal}</span>
                    `;

                    if (prepend) {
                        ucapanList.prepend(item);
                    } else {
                        ucapanList.appendChild(item);
                    }
                };

                // Fungsi untuk menampilkan notifikasi toast
                function showToast() {
                    const toast = document.getElementById('toast-notification');
                    toast.classList.add('show');
                    // Sembunyikan notifikasi setelah 3 detik
                    setTimeout(() => {
                        toast.classList.remove('show');
                    }, 3000);
                }

                const muatUcapanAwal = async () => {
                    const { data, error } = await supabaseClient
                        .from('ucapan') // Pastikan nama tabel 'ucapan'
                        .select('*')
                        .order('created_at', { ascending: false });

                    if (error) {
                        console.error('Error mengambil data:', error);
                    } else {
                        ucapanList.innerHTML = '';
                        data.forEach(ucapan => tampilkanUcapan(ucapan, false));
                    }
                };

                form.addEventListener('submit', async (event) => {
                    event.preventDefault();

                    submitButton.disabled = true;
                    submitButton.innerHTML = 'Mengirim...';

                    const name = document.getElementById('name').value;
                    const message = document.getElementById('message').value;

                    const { error } = await supabaseClient
                        .from('ucapan')
                        .insert([{ name: name, message: message }]);

                    if (error) {
                        console.error('Error mengirim ucapan:', error);
                        alert('Gagal mengirim ucapan. Silakan coba lagi.');
                        // Kembalikan tombol seperti semula HANYA jika gagal
                        submitButton.disabled = false;
                        submitButton.innerHTML = originalButtonHTML;
                    } else {
                        // 1. Panggil fungsi notifikasi baru
                        showToast();

                        // 2. Atur penanda di browser bahwa RSVP sudah dikirim
                        sessionStorage.setItem('skipCover', 'true');

                        // 3. Tunggu 2 detik agar pengguna sempat melihat notifikasi, lalu refresh
                        setTimeout(() => {
                            location.reload();
                        }, 2000);
                    }
                });

                muatUcapanAwal();
            }

            if (sessionStorage.getItem('skipCover') === 'true') {
                openInvitation(); // Langsung panggil fungsi untuk membuka undangan
                sessionStorage.removeItem('skipCover'); // Hapus penanda agar refresh manual berikutnya normal

                // Bonus: Scroll langsung ke bagian buku tamu
                const guestbookSection = document.getElementById('guestbook-section');
                if (guestbookSection) {
                    // Beri sedikit jeda agar transisi lebih mulus
                    setTimeout(() => {
                        guestbookSection.scrollIntoView({ behavior: 'smooth' });
                    }, 100);
                }
            }

            // --- Menjalankan Semua Fungsi ---
            openButton.addEventListener('click', openInvitation);
            musicControl.addEventListener('click', toggleMusic);
            backgroundMusic.addEventListener('play', updateMusicIcon);
            backgroundMusic.addEventListener('pause', updateMusicIcon);

            initCountdown();
            initScrollAnimations();
            initCopyButtons();
            initGuestbook();
        });
    </script>
    <div id="toast-notification" class="toast">Ucapan Anda berhasil terkirim!</div>
</body>

</html>